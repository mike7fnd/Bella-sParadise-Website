<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Top Header - Shrinking Panel</title>

<link href="https://fonts.googleapis.com/css2?family=Archivo:wght@400;500;600&family=Playfair+Display:wght@400;600&display=swap" rel="stylesheet">

<style>
:root {
  --logo-font: "Playfair Display", serif;
  --nav-height: 68px;
  --nav-sticky-gap: 12px;
  --primary-color: #e03d8f;
  --nav-bg-glass: rgba(255,255,255,0.7);
  --text-main: #1a1a1a;
  --text-muted: #555;
  --ui-element-bg: rgba(0,0,0,0.05);
  --nav-shadow: 0 8px 32px rgba(0,0,0,0.08);
  --radius: 35px;
}

body {
  margin: 0;
  font-family: "Archivo", sans-serif;
  background: #f5f5f5;
}

/* NAV BAR */
.site-nav {
  position: fixed;
  top: var(--nav-sticky-gap);
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  align-items: center;
  justify-content: space-between;
  width: calc(100% - 40px);
  max-width: 1400px;
  height: var(--nav-height);
  padding: 0 25px;
  background: var(--nav-bg-glass);
  backdrop-filter: blur(15px);
  border-radius: var(--radius);
  box-shadow: var(--nav-shadow);
  border: 1px solid rgba(255,255,255,0.4);
  z-index: 1000;
}

/* LEFT + RIGHT SIDE */
.nav-side {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-shrink: 0;
}

/* LOGO */
.logo {
  font-family: var(--logo-font);
  font-style: italic;
  font-weight: 600;
  font-size: 1.5rem;
  color: var(--text-main);
}

/* CENTER NAV LINKS — FIXED CENTER */
.navlinks {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  gap: 30px;
  align-items: center;
  white-space: nowrap;
}

/* NAV LINKS */
.navlinks a {
  color: var(--text-muted);
  text-decoration: none;
  font-size: 0.95rem;
  transition: 0.3s;
  padding: 3px 0;
}

.navlinks a.active {
  color: var(--text-main);
  font-weight: 600;
}

/* PAGE INDICATOR */
.nav-indicator {
  position: absolute;
  bottom: -6px;
  height: 4px;
  background: var(--primary-color);
  border-radius: 4px;
  box-shadow: 0 0 8px var(--primary-color);
  transition: 0.3s ease;
}

/* ICON BUTTONS */
.icon-btn {
  width: 38px;
  height: 38px;
  border-radius: 50%;
  background: var(--ui-element-bg);
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
}

.icon-btn:hover {
  background: rgba(0,0,0,0.08);
}

/* DROPDOWN */
.profile-wrap {
  position: relative;
}

.dropdown-content {
  display: none;
  position: absolute;
  right: 0;
  top: 55px;
  background: rgba(255,255,255,0.9);
  backdrop-filter: blur(15px);
  border-radius: 12px;
  min-width: 180px;
  border: 1px solid rgba(0,0,0,0.06);
  box-shadow: 0 10px 40px rgba(0,0,0,0.12);
  z-index: 2000;
}

.profile-wrap.show .dropdown-content {
  display: block;
}

/* PAGE CONTENT */
.page-content {
  padding-top: 120px;
}
</style>
</head>
<body>

<!-- NAV BAR -->
<div class="site-nav">

  <div class="nav-side left-side">
    <div class="logo">Bella's Paradise</div>
  </div>

  <nav class="navlinks">
    <span class="nav-indicator"></span>
    <a href="/admin-dashboard">Dashboard</a>
    <a href="/admin-facilities">Facilities</a>
    <a href="/admin-bookings">Bookings</a>
    <a href="/admin-guests">Guests</a>
    <a href="/admin-messages">Messages</a>
  </nav>

  <div class="nav-side right-side">
    <div class="icon-btn notification-btn">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
        <path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/>
      </svg>
    </div>

    <div class="profile-wrap">
      <div class="icon-btn" onclick="toggleDropdown(event)">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
        </svg>
      </div>
      <div class="dropdown-content">
        <a href="/settings">Settings</a>
        <a href="/logout">Logout</a>
      </div>
    </div>
  </div>

</div>


<!-- GSAP LOGIC -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>

<script>
gsap.registerPlugin(ScrollTrigger);

const siteNav = document.querySelector(".site-nav");
const logo = document.querySelector(".logo");
const notif = document.querySelector(".notification-btn");
const profile = document.querySelector(".profile-wrap");
const navLinks = document.querySelector(".navlinks");
const indicator = document.querySelector(".nav-indicator");
const links = document.querySelectorAll(".navlinks a");

/* SHRINK EFFECT — CENTER FIXED */
gsap.timeline({
  scrollTrigger: {
    trigger: "body",
    start: "top -50",
    end: "top -51",
    toggleActions: "play none none reverse",
  }
})
.to(siteNav, {
  width: `${navLinks.offsetWidth + 140}px`,
  duration: 0.4,
  ease: "power3.out"
})
.to([logo, notif, profile], {
  opacity: 0,
  pointerEvents: "none",
  duration: 0.3
}, "<");

/* ACTIVE PAGE INDICATOR */
function moveIndicator(activeLink) {
  const rect = activeLink.getBoundingClientRect();
  const parent = navLinks.getBoundingClientRect();
  indicator.style.left = (rect.left - parent.left) + "px";
  indicator.style.width = rect.width + "px";
}

function setActivePage() {
  const current = window.location.pathname.toLowerCase();
  let matched = false;

  links.forEach(link => {
    const path = link.getAttribute("href").toLowerCase();

    if (current === path || current.startsWith(path)) {
      links.forEach(a => a.classList.remove("active"));
      link.classList.add("active");
      moveIndicator(link);
      matched = true;
    }
  });

  if (!matched) {
    links[0].classList.add("active");
    moveIndicator(links[0]);
  }
}

setActivePage();

links.forEach(link => {
  link.addEventListener("click", () => {
    links.forEach(a => a.classList.remove("active"));
    link.classList.add("active");
    moveIndicator(link);
  });
});

/* DROPDOWN */
function toggleDropdown(e) {
  e.stopPropagation();
  profile.classList.toggle("show");
}

window.addEventListener("click", () => {
  profile.classList.remove("show");
});
</script>

</body>
</html>
